<title>{{ user }} WebSocket</title>

<h1>Welcome {{ user }} to Flask WebSocket</h1>

<script
  src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.8.1/socket.io.js"
  crossorigin="anonymous"
></script>
<script type="text/javascript" charset="utf-8">
  var user = "{{ user }}" || "Anonymous";
  var socket = io();

  socket.on("connect", () => {
    console.log(`User ${user} has joined the chat!`);
    socket.emit("join", { data: `${user} joined!` });
  });

  socket.on("server event", (data) =>
    console.log("Got message from server: ", data)
  );
</script>
